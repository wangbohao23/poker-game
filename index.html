<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾·å·æ‰‘å…‹ - Texas Hold'em</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a5f2a 0%, #0d3d1a 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .table {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .info-bar {
            display: flex;
            justify-content: space-between;
            background: rgba(0,0,0,0.3);
            padding: 10px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .community-cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 30px 0;
            min-height: 100px;
            align-items: center;
        }

        .pot {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            color: #ffd700;
            margin: 20px 0;
        }

        .player-area {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .player-area.active {
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            border: 2px solid #ffd700;
        }

        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .player-name {
            font-weight: bold;
            font-size: 1.2em;
        }

        .chips {
            color: #ffd700;
            font-weight: bold;
        }

        .cards {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
        }

        .card {
            width: 70px;
            height: 100px;
            background: white;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 1.5em;
            font-weight: bold;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
            transition: transform 0.2s;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card.red {
            color: #d32f2f;
        }

        .card.black {
            color: #212121;
        }

        .card.back {
            background: linear-gradient(45deg, #b71c1c 0%, #d32f2f 50%, #b71c1c 100%);
            color: transparent;
            border: 2px solid #8e0000;
        }

        .card-suit {
            font-size: 1.2em;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        button {
            padding: 12px 24px;
            font-size: 1em;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-fold {
            background: #757575;
            color: white;
        }

        .btn-check {
            background: #42a5f5;
            color: white;
        }

        .btn-call {
            background: #66bb6a;
            color: white;
        }

        .btn-raise {
            background: #ffa726;
            color: white;
        }

        .btn-allin {
            background: #ef5350;
            color: white;
        }

        .btn-newgame {
            background: #ab47bc;
            color: white;
            font-size: 1.2em;
            padding: 15px 30px;
        }

        .bet-slider {
            width: 100%;
            margin: 10px 0;
        }

        .bet-amount {
            text-align: center;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .message {
            text-align: center;
            padding: 15px;
            background: rgba(0,0,0,0.4);
            border-radius: 10px;
            margin: 15px 0;
            font-size: 1.1em;
        }

        .hand-rank {
            color: #81c784;
            font-weight: bold;
        }

        .winner {
            animation: pulse 1s infinite;
            color: #ffd700;
            font-size: 1.3em;
            font-weight: bold;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .dealer-btn {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background: white;
            color: black;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8em;
        }

        .rules {
            background: rgba(0,0,0,0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.9em;
        }

        .rules h3 {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="table">
        <h1>ğŸƒ å¾·å·æ‰‘å…‹ Texas Hold'em</h1>
        
        <div class="info-bar">
            <span>ç›²æ³¨: <strong>5/10</strong></span>
            <span>é˜¶æ®µ: <strong id="phase">å‡†å¤‡å¼€å§‹</strong></span>
        </div>

        <div class="community-cards" id="communityCards">
            <!-- å…¬å…±ç‰Œæ˜¾ç¤ºåœ¨è¿™é‡Œ -->
        </div>

        <div class="pot" id="pot">åº•æ± : 0</div>

        <div class="player-area" id="aiArea">
            <div class="dealer-btn" id="aiDealer">D</div>
            <div class="player-header">
                <span class="player-name">ğŸ¤– AI å¯¹æ‰‹</span>
                <span class="chips" id="aiChips">ç­¹ç : 1000</span>
            </div>
            <div class="cards" id="aiCards">
                <div class="card back">?</div>
                <div class="card back">?</div>
            </div>
            <div id="aiAction"></div>
        </div>

        <div class="message" id="message">ç‚¹å‡»"å¼€å§‹æ–°æ¸¸æˆ"å¼€å§‹</div>

        <div class="player-area active" id="playerArea">
            <div class="dealer-btn" id="playerDealer" style="display:none;">D</div>
            <div class="player-header">
                <span class="player-name">ğŸ‘¤ ä½ </span>
                <span class="chips" id="playerChips">ç­¹ç : 1000</span>
            </div>
            <div class="hand-rank" id="handRank"></div>
            <div class="cards" id="playerCards"></div>
            <div class="bet-amount" id="betAmount"></div>
            <input type="range" class="bet-slider" id="betSlider" min="20" max="1000" value="20" style="display:none;">
            <div class="action-buttons" id="actionButtons">
                <button class="btn-newgame" onclick="startNewGame()">å¼€å§‹æ–°æ¸¸æˆ</button>
            </div>
        </div>

        <div class="rules">
            <h3>ğŸ“‹ æ¸¸æˆè§„åˆ™</h3>
            <p><strong>ç‰Œå‹å¤§å°ï¼š</strong>çš‡å®¶åŒèŠ±é¡º > åŒèŠ±é¡º > å››æ¡ > è‘«èŠ¦ > åŒèŠ± > é¡ºå­ > ä¸‰æ¡ > ä¸¤å¯¹ > ä¸€å¯¹ > é«˜ç‰Œ</p>
            <p><strong>æ“ä½œï¼š</strong>å¼ƒç‰Œ(Fold) | è®©ç‰Œ(Check) | è·Ÿæ³¨(Call) | åŠ æ³¨(Raise) | å…¨æŠ¼(All-in)</p>
            <p><strong>æµç¨‹ï¼š</strong>ç¿»ç‰Œå‰ â†’ ç¿»ç‰Œåœˆ(3å¼ ) â†’ è½¬ç‰Œåœˆ(1å¼ ) â†’ æ²³ç‰Œåœˆ(1å¼ ) â†’ æ¯”ç‰Œ</p>
        </div>
    </div>

    <script>
        // ç‰Œç»„å®šä¹‰
        const suits = ['â™ ', 'â™¥', 'â™¦', 'â™£'];
        const ranks = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
        
        let deck = [];
        let playerHand = [];
        let aiHand = [];
        let communityCards = [];
        let playerChips = 1000;
        let aiChips = 1000;
        let pot = 0;
        let currentPhase = 'preflop';
        let currentBet = 0;
        let playerBet = 0;
        let aiBet = 0;
        let isPlayerTurn = false;
        let dealer = 'player'; // è½®æ¢åº„å®¶
        let smallBlind = 5;
        let bigBlind = 10;

        // åˆå§‹åŒ–ç‰Œç»„
        function initDeck() {
            deck = [];
            for (let suit of suits) {
                for (let rank of ranks) {
                    deck.push({ suit, rank, value: ranks.indexOf(rank) + 2 });
                }
            }
            shuffle();
        }

        function shuffle() {
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
        }

        function drawCard() {
            return deck.pop();
        }

        // è·å–ç‰Œçš„é¢œè‰²ç±»
        function getCardClass(suit) {
            return (suit === 'â™¥' || suit === 'â™¦') ? 'red' : 'black';
        }

        // æ¸²æŸ“ç‰Œ
        function renderCard(card, hidden = false) {
            if (hidden) {
                return '<div class="card back">?</div>';
            }
            const colorClass = getCardClass(card.suit);
            return `<div class="card ${colorClass}">
                <div>${card.rank}</div>
                <div class="card-suit">${card.suit}</div>
            </div>`;
        }

        // æ›´æ–°æ˜¾ç¤º
        function updateDisplay() {
            document.getElementById('pot').textContent = `åº•æ± : ${pot}`;
            document.getElementById('playerChips').textContent = `ç­¹ç : ${playerChips}`;
            document.getElementById('aiChips').textContent = `ç­¹ç : ${aiChips}`;
            
            const communityDiv = document.getElementById('communityCards');
            communityDiv.innerHTML = communityCards.map(c => renderCard(c)).join('');
            
            const playerDiv = document.getElementById('playerCards');
            playerDiv.innerHTML = playerHand.map(c => renderCard(c)).join('');
            
            // æ›´æ–°åº„å®¶æŒ‰é’®
            document.getElementById('playerDealer').style.display = dealer === 'player' ? 'flex' : 'none';
            document.getElementById('aiDealer').style.display = dealer === 'ai' ? 'flex' : 'none';
            
            // æ›´æ–°æ‰‹ç‰Œè¯„çº§
            if (communityCards.length > 0) {
                const allCards = [...playerHand, ...communityCards];
                const rank = evaluateHand(allCards);
                document.getElementById('handRank').textContent = `å½“å‰ç‰ŒåŠ›: ${rank.name}`;
            } else {
                document.getElementById('handRank').textContent = '';
            }
        }

        // å¼€å§‹æ–°æ¸¸æˆ
        function startNewGame() {
            initDeck();
            playerHand = [drawCard(), drawCard()];
            aiHand = [drawCard(), drawCard()];
            communityCards = [];
            pot = 0;
            currentBet = 0;
            playerBet = 0;
            aiBet = 0;
            currentPhase = 'preflop';
            
            // ä¸‹ç›²æ³¨
            if (dealer === 'player') {
                playerChips -= smallBlind;
                aiChips -= bigBlind;
                playerBet = smallBlind;
                aiBet = bigBlind;
                currentBet = bigBlind;
                isPlayerTurn = true;
            } else {
                aiChips -= smallBlind;
                playerChips -= bigBlind;
                aiBet = smallBlind;
                playerBet = bigBlind;
                currentBet = bigBlind;
                isPlayerTurn = false;
            }
            pot = smallBlind + bigBlind;
            
            document.getElementById('phase').textContent = 'ç¿»ç‰Œå‰';
            document.getElementById('message').textContent = dealer === 'player' ? 'ä½ æ˜¯åº„å®¶ï¼ŒAI ä¸‹å¤§ç›²æ³¨' : 'AI æ˜¯åº„å®¶ï¼Œä½ ä¸‹å¤§ç›²æ³¨';
            
            updateDisplay();
            
            if (isPlayerTurn) {
                showPlayerActions();
            } else {
                setTimeout(aiTurn, 1000);
            }
        }

        // æ˜¾ç¤ºç©å®¶æ“ä½œæŒ‰é’®
        function showPlayerActions() {
            const buttonsDiv = document.getElementById('actionButtons');
            const toCall = currentBet - playerBet;
            const canCheck = toCall === 0;
            
            let html = '';
            
            // å¼ƒç‰Œ
            html += `<button class="btn-fold" onclick="playerFold()">å¼ƒç‰Œ</button>`;
            
            if (canCheck) {
                html += `<button class="btn-check" onclick="playerCheck()">è®©ç‰Œ</button>`;
                html += `<button class="btn-raise" onclick="prepareRaise()">åŠ æ³¨</button>`;
            } else {
                html += `<button class="btn-call" onclick="playerCall()">è·Ÿæ³¨ ${toCall}</button>`;
                html += `<button class="btn-raise" onclick="prepareRaise()">åŠ æ³¨</button>`;
            }
            
            html += `<button class="btn-allin" onclick="playerAllIn()">å…¨æŠ¼ ${playerChips}</button>`;
            
            buttonsDiv.innerHTML = html;
            
            document.getElementById('playerArea').classList.add('active');
            document.getElementById('aiArea').classList.remove('active');
        }

        // å‡†å¤‡åŠ æ³¨
        function prepareRaise() {
            const minRaise = currentBet * 2;
            const slider = document.getElementById('betSlider');
            slider.min = minRaise;
            slider.max = playerChips;
            slider.value = minRaise;
            slider.style.display = 'block';
            slider.oninput = function() {
                document.getElementById('betAmount').textContent = `åŠ æ³¨åˆ°: ${this.value}`;
            };
            document.getElementById('betAmount').textContent = `åŠ æ³¨åˆ°: ${minRaise}`;
            
            const buttonsDiv = document.getElementById('actionButtons');
            buttonsDiv.innerHTML = `
                <button class="btn-raise" onclick="playerRaise()">ç¡®è®¤åŠ æ³¨</button>
                <button class="btn-check" onclick="showPlayerActions()">å–æ¶ˆ</button>
            `;
        }

        // ç©å®¶æ“ä½œ
        function playerFold() {
            document.getElementById('message').textContent = 'ä½ å¼ƒç‰Œäº†ï¼ŒAI èµ¢å¾—åº•æ± ';
            aiChips += pot;
            endHand();
        }

        function playerCheck() {
            document.getElementById('message').textContent = 'ä½ è®©ç‰Œ';
            nextPhase();
        }

        function playerCall() {
            const amount = currentBet - playerBet;
            if (amount > playerChips) {
                playerAllIn();
                return;
            }
            playerChips -= amount;
            playerBet += amount;
            pot += amount;
            document.getElementById('message').textContent = `ä½ è·Ÿæ³¨ ${amount}`;
            nextPhase();
        }

        function playerRaise() {
            const amount = parseInt(document.getElementById('betSlider').value);
            const toCall = currentBet - playerBet;
            const raiseAmount = amount - currentBet;
            
            if (amount > playerChips + playerBet) {
                playerAllIn();
                return;
            }
            
            playerChips -= (toCall + raiseAmount);
            playerBet += (toCall + raiseAmount);
            currentBet = amount;
            pot += (toCall + raiseAmount);
            
            document.getElementById('betSlider').style.display = 'none';
            document.getElementById('betAmount').textContent = '';
            document.getElementById('message').textContent = `ä½ åŠ æ³¨åˆ° ${amount}`;
            
            // AI è¦å›åº”åŠ æ³¨
            setTimeout(() => aiResponseToRaise(), 1000);
        }

        function playerAllIn() {
            const amount = playerChips;
            playerBet += amount;
            pot += amount;
            playerChips = 0;
            currentBet = Math.max(currentBet, playerBet);
            document.getElementById('message').textContent = 'ä½ å…¨æŠ¼ï¼';
            setTimeout(() => aiResponseToRaise(), 1000);
        }

        // AI å›åˆ
        function aiTurn() {
            document.getElementById('playerArea').classList.remove('active');
            document.getElementById('aiArea').classList.add('active');
            
            const toCall = currentBet - aiBet;
            
            // ç®€å•çš„ AI é€»è¾‘
            const handStrength = evaluateHand([...aiHand, ...communityCards]).strength;
            const random = Math.random();
            
            if (toCall === 0) {
                // AI å¯ä»¥è®©ç‰Œæˆ–åŠ æ³¨
                if (handStrength > 3 && random > 0.6) {
                    const raiseSize = Math.min(bigBlind * 3, aiChips);
                    aiChips -= raiseSize;
                    aiBet += raiseSize;
                    currentBet = aiBet;
                    pot += raiseSize;
                    document.getElementById('aiAction').textContent = `AI åŠ æ³¨åˆ° ${aiBet}`;
                    showPlayerActions();
                } else {
                    document.getElementById('aiAction').textContent = 'AI è®©ç‰Œ';
                    setTimeout(nextPhase, 1000);
                }
            } else {
                // AI éœ€è¦è·Ÿæ³¨æˆ–å¼ƒç‰Œ
                if (handStrength > 2 || random > 0.4) {
                    if (toCall >= aiChips) {
                        // AI å…¨æŠ¼
                        aiBet += aiChips;
                        pot += aiChips;
                        aiChips = 0;
                        document.getElementById('aiAction').textContent = 'AI å…¨æŠ¼ï¼';
                    } else {
                        aiChips -= toCall;
                        aiBet += toCall;
                        pot += toCall;
                        document.getElementById('aiAction').textContent = `AI è·Ÿæ³¨ ${toCall}`;
                    }
                    setTimeout(nextPhase, 1000);
                } else {
                    document.getElementById('aiAction').textContent = 'AI å¼ƒç‰Œ';
                    document.getElementById('message').textContent = 'AI å¼ƒç‰Œï¼Œä½ èµ¢å¾—åº•æ± ï¼';
                    playerChips += pot;
                    endHand();
                }
            }
            
            updateDisplay();
        }

        // AI å›åº”åŠ æ³¨
        function aiResponseToRaise() {
            const toCall = currentBet - aiBet;
            const handStrength = evaluateHand([...aiHand, ...communityCards]).strength;
            const potOdds = toCall / (pot + toCall);
            
            if (handStrength >= 4 || (handStrength >= 2 && potOdds < 0.3)) {
                if (toCall >= aiChips) {
                    aiBet += aiChips;
                    pot += aiChips;
                    aiChips = 0;
                    document.getElementById('aiAction').textContent = 'AI è·Ÿæ³¨å…¨æŠ¼ï¼';
                } else {
                    aiChips -= toCall;
                    aiBet += toCall;
                    pot += toCall;
                    document.getElementById('aiAction').textContent = `AI è·Ÿæ³¨ ${toCall}`;
                }
                nextPhase();
            } else {
                document.getElementById('aiAction').textContent = 'AI å¼ƒç‰Œ';
                document.getElementById('message').textContent = 'AI å¼ƒç‰Œï¼Œä½ èµ¢å¾—åº•æ± ï¼';
                playerChips += pot;
                endHand();
            }
            updateDisplay();
        }

        // ä¸‹ä¸€é˜¶æ®µ
        function nextPhase() {
            if (playerChips === 0 || aiChips === 0) {
                showdown();
                return;
            }
            
            switch(currentPhase) {
                case 'preflop':
                    currentPhase = 'flop';
                    document.getElementById('phase').textContent = 'ç¿»ç‰Œåœˆ';
                    communityCards.push(drawCard(), drawCard(), drawCard());
                    resetBets();
                    break;
                case 'flop':
                    currentPhase = 'turn';
                    document.getElementById('phase').textContent = 'è½¬ç‰Œåœˆ';
                    communityCards.push(drawCard());
                    resetBets();
                    break;
                case 'turn':
                    currentPhase = 'river';
                    document.getElementById('phase').textContent = 'æ²³ç‰Œåœˆ';
                    communityCards.push(drawCard());
                    resetBets();
                    break;
                case 'river':
                    showdown();
                    return;
            }
            
            updateDisplay();
            
            // ç¡®å®šè°å…ˆè¡ŒåŠ¨
            if (dealer === 'player') {
                isPlayerTurn = true;
                showPlayerActions();
            } else {
                isPlayerTurn = false;
                setTimeout(aiTurn, 1000);
            }
        }

        function resetBets() {
            playerBet = 0;
            aiBet = 0;
            currentBet = 0;
        }

        // æ¯”ç‰Œ
        function showdown() {
            document.getElementById('phase').textContent = 'æ¯”ç‰Œ';
            
            // æ˜¾ç¤º AI çš„ç‰Œ
            const aiDiv = document.getElementById('aiCards');
            aiDiv.innerHTML = aiHand.map(c => renderCard(c)).join('');
            
            const playerRank = evaluateHand([...playerHand, ...communityCards]);
            const aiRank = evaluateHand([...aiHand, ...communityCards]);
            
            let message = `ä½ çš„æ‰‹ç‰Œ: ${playerRank.name} | AI æ‰‹ç‰Œ: ${aiRank.name} | `;
            
            if (playerRank.strength > aiRank.strength) {
                message += 'ğŸ‰ ä½ èµ¢äº†ï¼';
                playerChips += pot;
                document.getElementById('message').innerHTML = `<span class="winner">${message}</span>`;
            } else if (aiRank.strength > playerRank.strength) {
                message += 'ğŸ¤– AI èµ¢äº†';
                aiChips += pot;
                document.getElementById('message').textContent = message;
            } else {
                // å¹³å±€ - æ¯”è¾ƒé«˜ç‰Œ
                message += 'ğŸ¤ å¹³å±€ï¼Œå¹³åˆ†åº•æ± ';
                const split = Math.floor(pot / 2);
                playerChips += split;
                aiChips += split + (pot % 2);
                document.getElementById('message').textContent = message;
            }
            
            endHand();
        }

        // ç»“æŸæœ¬å±€
        function endHand() {
            pot = 0;
            updateDisplay();
            
            // åˆ‡æ¢åº„å®¶
            dealer = dealer === 'player' ? 'ai' : 'player';
            
            document.getElementById('actionButtons').innerHTML = '<button class="btn-newgame" onclick="startNewGame()">å¼€å§‹æ–°æ¸¸æˆ</button>';
            document.getElementById('aiAction').textContent = '';
            
            // æ£€æŸ¥æ¸¸æˆç»“æŸ
            if (playerChips <= 0) {
                document.getElementById('message').innerHTML = '<span class="winner">ğŸ¤– AI èµ¢å¾—æ¯”èµ›ï¼</span>';
                playerChips = 1000;
                aiChips = 1000;
            } else if (aiChips <= 0) {
                document.getElementById('message').innerHTML = '<span class="winner">ğŸ‰ ä½ èµ¢å¾—æ¯”èµ›ï¼</span>';
                playerChips = 1000;
                aiChips = 1000;
            }
        }

        // è¯„ä¼°ç‰ŒåŠ›
        function evaluateHand(cards) {
            if (cards.length < 5) {
                return { name: 'ç­‰å¾…å…¬å…±ç‰Œ...', strength: 0 };
            }
            
            // è·å–æ‰€æœ‰5å¼ ç»„åˆ
            const combinations = getCombinations(cards, 5);
            let bestStrength = 0;
            let bestName = 'é«˜ç‰Œ';
            
            for (const combo of combinations) {
                const result = evaluate5Cards(combo);
                if (result.strength > bestStrength) {
                    bestStrength = result.strength;
                    bestName = result.name;
                }
            }
            
            return { name: bestName, strength: bestStrength };
        }

        function getCombinations(arr, k) {
            const result = [];
            function combine(start, combo) {
                if (combo.length === k) {
                    result.push([...combo]);
                    return;
                }
                for (let i = start; i < arr.length; i++) {
                    combo.push(arr[i]);
                    combine(i + 1, combo);
                    combo.pop();
                }
            }
            combine(0, []);
            return result;
        }

        function evaluate5Cards(cards) {
            const values = cards.map(c => c.value).sort((a, b) => b - a);
            const suits = cards.map(c => c.suit);
            
            const isFlush = suits.every(s => s === suits[0]);
            const isStraight = values.every((v, i) => i === 0 || v === values[i-1] - 1);
            const isLowStraight = values.join(',') === '14,5,4,3,2';
            
            const valueCounts = {};
            values.forEach(v => valueCounts[v] = (valueCounts[v] || 0) + 1);
            const counts = Object.values(valueCounts).sort((a, b) => b - a);
            
            // çš‡å®¶åŒèŠ±é¡º
            if (isFlush && values.join(',') === '14,13,12,11,10') {
                return { name: 'çš‡å®¶åŒèŠ±é¡ºï¼', strength: 10 };
            }
            // åŒèŠ±é¡º
            if (isFlush && (isStraight || isLowStraight)) {
                return { name: 'åŒèŠ±é¡ºï¼', strength: 9 };
            }
            // å››æ¡
            if (counts[0] === 4) {
                return { name: 'å››æ¡', strength: 8 };
            }
            // è‘«èŠ¦
            if (counts[0] === 3 && counts[1] === 2) {
                return { name: 'è‘«èŠ¦', strength: 7 };
            }
            // åŒèŠ±
            if (isFlush) {
                return { name: 'åŒèŠ±', strength: 6 };
            }
            // é¡ºå­
            if (isStraight || isLowStraight) {
                return { name: 'é¡ºå­', strength: 5 };
            }
            // ä¸‰æ¡
            if (counts[0] === 3) {
                return { name: 'ä¸‰æ¡', strength: 4 };
            }
            // ä¸¤å¯¹
            if (counts[0] === 2 && counts[1] === 2) {
                return { name: 'ä¸¤å¯¹', strength: 3 };
            }
            // ä¸€å¯¹
            if (counts[0] === 2) {
                return { name: 'ä¸€å¯¹', strength: 2 };
            }
            // é«˜ç‰Œ
            return { name: 'é«˜ç‰Œ', strength: 1 };
        }
    </script>
</body>
</html>
